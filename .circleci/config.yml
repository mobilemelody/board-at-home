version: 2.1
orbs: circleci/heroku@0.0.10
jobs:
  test:
    docker:
      - image: 'circleci/node:10.0'
    steps:
      - checkout
      - run: echo 'This will eventually run tests'
  build_and_deploy:
    docker:
      - image: 'circleci/node:10.0'
    steps:
      - checkout
      - run: echo 'This will build and deploy to heroku'
workflows:
  version: 2
  deploy_to_heroku:
    jobs:
      - test
      - build_and_deploy:
        requires:
          - test
        filters:
          branches:
            only:
              - master

# version: 2.1
# jobs:
#   deploy-to-heroku:
#     docker:
#       - image: 'circleci/node:10.0'
#     steps:
#       - checkout
#       # - heroku/install
#       # - setup_remote_docker:
#       #   version: 19.03.8
#       # - run:
#       #   name: Build image
#       #   command:
#   test:
#     steps:
#       - echo 'HELLO WORLD'
#   deploy:
#     jobs:
#       - deploy-to-heroku:
#         filters:
#           branches:
#             only:
#               - master
#   test-job:
#     jobs:
#       - test